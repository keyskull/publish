---
tags: [server tech]
date: "2021-10-16 11:56"
---
# 建立免费图床服务器
Date:  2021-10-16 11:56

##  介绍

目前已知可用的免费图层服务构建方案:


国内构建方案:
1. Gitee Pages
2. Github Pages + 免费CDN服务

* 步骤
	* 在repo根目录创建一个文件名为 ".nojekll"的空文件
	* 创建index.html并添加代码
```html
<html>

<body>
  <script>
    const arrUrl = window.location.href.split("//");

    UriArray = arrUrl[1].split('/').splice(1);
    if (UriArray[UriArray.length - 1].indexOf('.') != -1) {
      UriArray = UriArray.slice(0, -1);
    }

    var uri = UriArray.length == 0 ? "" : UriArray.reduce((previousValue, currentValue) => previousValue + '/' + currentValue + '/');

    while (uri.slice(-1) == '/') {
      uri = uri.substring(0, uri.length - 1);
    }

	//Github Pages
    const Url = 'https://api.github.com/repos/用户名/仓库名/contents/' + uri + '?ref=分支';

	//Gitee Pages
	//没有时间研究, 有兴趣的网友们可以自行研究一下

    (async () => {
      const response = await fetch(Url);
      const data = await response.json();
      let htmlString = '<ul>';
      for (let file of data) {
        htmlString += `<li><a href="${file.path}">${file.name}</a></li>`;
      }
      htmlString += '</ul>';
      document.getElementsByTagName('body')[0].innerHTML = htmlString;
    })()
  </cursive>
</body>

</html>
```

*文件目录的提取方法是会有更好的办法的, 但开发时长会有点儿提高, 有兴趣的网友们可以自行研究一下.
我在这里可以提供一个研究方向: 因为 CORS (Cross-origin resource sharing) 的限制, 一般浏览器不能够直接通过抓取原址数据来解释文件路径, 所以可以通过一些有限制免费的服务提供商来做跳板. 我在[[免费网络资源集合]] 分享一些可用的资源, 网友们可以研究一下.


---
Copyright © 2021, [Jialin Li](https://github.com/keyskull).  [![Copyright](/80x15.png)](/LICENSE)